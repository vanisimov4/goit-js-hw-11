{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst listImages = document.querySelector('ul.gallery');\n\n\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const searchText = form.elements.text.value.trim();\n  if (searchText === '') {\n    console.log('Empty!');\n    return;\n  }\n  console.log('searchText');\n\n   getPhotosByText(searchText)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          messageColor: 'white',\n          color: '#EF4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      console.log(data.hits);\n      template(data.hits);\n     \n      var lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n    })\n    .catch(error => {\n      console.error(error);\n    });\n  // const options = {\n  //   method: \"GET\",\n  //   body: { API_KEY: \"42434197-39cd5bed035ab257afa598fe1\", q: \"roses\" },\n  // };\n  // fetch('https://pixabay.com/api/', options)\n   form.reset();\n}\n\nfunction getPhotosByText(searchText) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const API_KEY = '?key=42434197-39cd5bed035ab257afa598fe1';\n  const PARAMS =\n    '&q=' +\n    encodeURIComponent(`${searchText}`) +\n    '&image_type=photo' +\n    '&orientation=horizontal' +\n    '&safesearch=true';\n  const URL = BASE_URL + END_POINT + API_KEY + PARAMS;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction template(obj) {\n    const markup = obj.map(\n    image => `<li class='gallery-item'>\n  <a class='gallery-link' href='${image.largeImageURL}'>\n    <img\n      class='gallery-image'\n      src='${image.webformatURL}'\n      alt='${image.tags}'\n    />\n  </a>\n</li>`\n  )\n    .join('');\n  \n  listImages.insertAdjacentHTML('afterbegin', markup);\n\n  // return ``\n}"],"names":["form","listImages","handleFormSubmit","event","searchText","getPhotosByText","data","iziToast","template","SimpleLightbox","error","BASE_URL","END_POINT","API_KEY","PARAMS","URL","response","obj","markup","image"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,YAAY,EAGtDD,EAAK,iBAAiB,SAAUE,CAAgB,EAEhD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAaJ,EAAK,SAAS,KAAK,MAAM,OAC5C,GAAII,IAAe,GAAI,CACrB,QAAQ,IAAI,QAAQ,EACpB,MACD,CACD,QAAQ,IAAI,YAAY,EAEvBC,EAAgBD,CAAU,EACxB,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,aAAc,QACd,MAAO,UACP,SAAU,WACV,QACE,0EACZ,CAAS,EAEH,QAAQ,IAAID,EAAK,IAAI,EACrBE,EAASF,EAAK,IAAI,EAEH,IAAIG,EAAe,aAAc,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,CAED,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,EAMFV,EAAK,MAAK,CACb,CAEA,SAASK,EAAgBD,EAAY,CACnC,MAAMO,EAAW,sBACXC,EAAY,QACZC,EAAU,0CACVC,EACJ,MACA,mBAAmB,GAAGV,CAAU,EAAE,EAClC,2DAGIW,EAAMJ,EAAWC,EAAYC,EAAUC,EAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASR,EAASS,EAAK,CACnB,MAAMC,EAASD,EAAI,IACnBE,GAAS;AAAA,kCACqBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,MAIpB,EACE,KAAK,EAAE,EAEVlB,EAAW,mBAAmB,aAAciB,CAAM,CAGpD"}